import{d as e,r as a,k as t,J as s,c as n,w as o,i as r,o as u,a as l,e as c,_ as i}from"./index-BkZLuxpi.js";import{a as v,D as d,R as f}from"./remote-config.BGSfClRu.js";const m=i(e({__name:"index",setup(e){const i=a(""),m=a(""),_=a("");function h(e){if(!e)return"";return/\/[^/]+\.[a-zA-Z0-9]+$/.test(e)||e.endsWith("/")?e:`${e}/`}async function p(){m.value="",_.value="";try{const t=await(e=v(),a=7e3,new Promise((t,s)=>{const n=setTimeout(()=>s(new Error("读取配置超时")),a);e.then(e=>{clearTimeout(n),t(e)}).catch(e=>{clearTimeout(n),s(e)})}));if(_.value=t||d||"",!_.value)return i.value="",void(m.value="未获取到 H5 地址：请在远程 config.json 中配置 h5Url。");const s=h(_.value);i.value=`${s}?t=${Date.now()}`}catch(t){{const e=h(d);return _.value=d,i.value=`${e}?t=${Date.now()}`,void(m.value="")}}var e,a}return a(f),t(()=>{p()}),s(()=>{p()}),(e,a)=>{const t=r;return u(),n(t,{class:"shell-container"},{default:o(()=>[l(t,{class:"title"},{default:o(()=>[c("WebShell")]),_:1}),l(t,{class:"desc"},{default:o(()=>[c("本页面仅用于 App 壳（APP-PLUS）。")]),_:1})]),_:1})}}}),[["__scopeId","data-v-33af20e8"]]);export{m as default};
